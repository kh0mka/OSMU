#!/bin/bash

# Проверяем количество аргументов
if [ "$#" -ne 3 ]; then
    echo "Использование: $0 <мин. размер> <макс. размер> <каталог>"
    exit 1
fi

# Проверяем, является ли первый аргумент числом
if ! [[ "$1" =~ ^[0-9]+$ ]]; then
    echo "Ошибка: Первый аргумент должен быть числом"
    exit 1
fi

# Проверяем, является ли второй аргумент числом
if ! [[ "$2" =~ ^[0-9]+$ ]]; then
    echo "Ошибка: Второй аргумент должен быть числом"
    exit 1
fi

# Проверяем, существует ли указанный каталог
if [ ! -d "$3" ]; then
    echo "Ошибка: Каталог '$3' не существует"
    exit 1
fi

min_size=$1
max_size=$2
directory=$3

# Ищем файлы в указанном каталоге с размером в заданном диапазоне
echo "Файлы с диапазоном размера от $min_size до $max_size:"
find "$directory" -type f -size +"$min_size"c -size -"$max_size"c -exec ls -lh {} \; 2>/dev/null
